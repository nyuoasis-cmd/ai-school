<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>êµë‚´ AI ìƒë‹´ ë„ìš°ë¯¸</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #F0F2F8;
  --surface: #FFFFFF;
  --text: #1A1D2E;
  --text2: #5A5F7A;
  --text3: #9398B0;
  --border: #E4E7F0;
  --accent: #6C5CE7;
  --accent-light: #F0EEFF;
  --accent-dark: #5A4BD6;
  --blue: #3B82F6;
  --blue-light: #EBF2FF;
  --green: #10B981;
  --green-light: #E6FAF2;
  --orange: #F59E0B;
  --orange-light: #FEF6E0;
  --pink: #EC4899;
  --pink-light: #FDF0F7;
  --radius: 16px;
  --radius-sm: 12px;
  --radius-xs: 8px;
  --shadow: 0 1px 6px rgba(108,92,231,0.06);
  --shadow-md: 0 4px 20px rgba(108,92,231,0.1);
  --header-height: 64px;
  --input-height: 64px;
}
* { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
body {
  font-family: 'Noto Sans KR', -apple-system, sans-serif;
  background: var(--bg);
  color: var(--text);
  overflow-x: hidden;
  min-height: 100dvh;
  -webkit-font-smoothing: antialiased;
  user-select: none; -webkit-user-select: none;
}

.app-frame {
  max-width: 430px;
  margin: 0 auto;
  min-height: 100dvh;
  position: relative;
  background: var(--bg);
  display: flex;
  flex-direction: column;
}

/* Header */
.app-header {
  height: var(--header-height);
  display: flex;
  align-items: center;
  padding: 0 16px;
  background: var(--surface);
  position: sticky; top:0; z-index:100;
  border-bottom: 1px solid var(--border);
  gap: 12px;
  flex-shrink: 0;
}
.h-avatar {
  width: 40px; height: 40px; border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), #a78bfa);
  display: flex; align-items: center; justify-content: center;
  font-size: 22px; flex-shrink: 0;
  box-shadow: 0 2px 8px rgba(108,92,231,0.25);
}
.h-info { flex:1; }
.h-name { font-size: 15px; font-weight: 700; display:flex; align-items:center; gap:6px; }
.h-badge {
  font-size: 8px; font-weight: 700; background: var(--accent); color:#fff;
  padding: 2px 6px; border-radius: 4px; letter-spacing: 0.3px;
}
.h-status { font-size: 11px; color: var(--green); font-weight: 500; display:flex; align-items:center; gap:4px; }
.h-status::before { content:''; width:6px; height:6px; border-radius:50%; background:var(--green); }
.h-school { font-size: 11px; color: var(--text3); background:var(--bg); padding:4px 10px; border-radius:20px; font-weight:500; white-space:nowrap; }

/* Chat area */
.chat-area {
  flex: 1;
  overflow-y: auto;
  padding: 12px 10px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Welcome card */
.welcome-card {
  background: linear-gradient(135deg, var(--accent), #a78bfa);
  border-radius: var(--radius);
  padding: 16px;
  color: #fff;
  text-align: center;
  margin-bottom: 2px;
}
.w-emoji { font-size: 36px; margin-bottom: 4px; }
.w-title { font-size: 16px; font-weight: 800; margin-bottom: 2px; }
.w-sub { font-size: 12px; opacity: 0.9; line-height: 1.5; }

/* Quick buttons */
.quick-section { margin-bottom: 0; }
.quick-label { font-size: 11px; color:var(--text3); font-weight:600; margin-bottom:5px; padding-left:2px; }
.quick-grid { display: flex; flex-direction: column; gap: 6px; }
.quick-btn {
  display: flex; align-items: center; gap: 12px;
  padding: 12px 14px; background: var(--surface); border-radius: var(--radius-sm);
  border: 1px solid var(--border); cursor: pointer; font-family: inherit;
  transition: all 0.15s; text-align: left;
}
.quick-btn:active { transform: scale(0.96); border-color: var(--accent); background: var(--accent-light); }
.q-icon {
  width: 34px; height: 34px; border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; flex-shrink: 0;
}
.q-icon.meal { background: var(--orange-light); }
.q-icon.schedule { background: var(--blue-light); }
.q-icon.calendar { background: var(--pink-light); }
.q-icon.place { background: var(--green-light); }
.q-icon.etc { background: var(--accent-light); }
.q-text { font-size: 13px; font-weight: 600; line-height: 1.3; text-align: left; }

/* Messages */
.msg-row { display: flex; gap: 8px; max-width: 100%; }
.msg-row.bot { align-self: flex-start; }
.msg-row.user { align-self: flex-end; flex-direction: row-reverse; max-width: 85%; }

.msg-avatar {
  width: 30px; height: 30px; border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), #a78bfa);
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; flex-shrink: 0; margin-top: 2px;
}

.msg-content { display: flex; flex-direction: column; gap: 6px; }

.msg-bubble {
  padding: 12px 16px;
  border-radius: 18px;
  font-size: 14px;
  line-height: 1.6;
  word-break: keep-all;
}
.msg-row.bot .msg-bubble {
  background: var(--surface);
  border-bottom-left-radius: 4px;
  box-shadow: var(--shadow);
}
.msg-row.user .msg-bubble {
  background: var(--accent);
  color: #fff;
  border-bottom-right-radius: 4px;
}

.msg-time { font-size: 10px; color: var(--text3); padding: 0 4px; }
.msg-row.user .msg-time { text-align: right; }

/* ===== CARD RESPONSES ===== */

/* Meal card */
.card-meal {
  background: var(--surface);
  border-radius: var(--radius-sm);
  overflow: hidden;
  box-shadow: var(--shadow);
  width: 100%;
}
.card-meal-header {
  background: linear-gradient(135deg, #F59E0B, #F97316);
  padding: 12px 14px;
  color: #fff;
  display: flex; align-items: center; justify-content: space-between;
}
.cm-title { font-size: 13px; font-weight: 700; }
.cm-date { font-size: 11px; opacity: 0.85; }
.card-meal-body { padding: 10px 14px; }
.cm-menu-item {
  display: flex; align-items: center; gap: 8px;
  padding: 6px 0;
  border-bottom: 1px solid var(--border);
}
.cm-menu-item:last-child { border-bottom: none; }
.cm-emoji { font-size: 18px; width: 28px; text-align: center; }
.cm-name { flex: 1; font-size: 13px; font-weight: 500; }
.cm-cal { font-size: 11px; color: var(--orange); font-weight: 600; }
.card-meal-footer {
  padding: 8px 14px;
  background: var(--orange-light);
  display: flex; align-items: center; justify-content: space-between;
}
.cm-total-label { font-size: 11px; color: var(--text2); }
.cm-total-val { font-size: 15px; font-weight: 800; color: #E67E00; }

/* Timetable card */
.card-table {
  background: var(--surface);
  border-radius: var(--radius-sm);
  overflow: hidden;
  box-shadow: var(--shadow);
  width: 100%;
}
.card-table-header {
  background: linear-gradient(135deg, #3B82F6, #6366F1);
  padding: 12px 14px;
  color: #fff;
  display: flex; align-items: center; justify-content: space-between;
}
.ct-title { font-size: 13px; font-weight: 700; }
.ct-class { font-size: 11px; opacity: 0.85; }
.timetable {
  width: 100%;
  border-collapse: collapse;
}
.timetable th {
  padding: 6px 3px;
  font-size: 10px;
  font-weight: 700;
  color: var(--text3);
  background: var(--bg);
  text-align: center;
}
.timetable th.today {
  color: var(--accent);
  background: var(--accent-light);
}
.timetable td {
  padding: 5px 3px;
  font-size: 11px;
  text-align: center;
  border-bottom: 1px solid var(--border);
  color: var(--text2);
  font-weight: 500;
}
.timetable td.today-col {
  background: var(--accent-light);
  color: var(--accent);
  font-weight: 700;
}
.timetable .period-num {
  font-size: 10px;
  color: var(--text3);
  font-weight: 600;
  width: 28px;
}

/* Calendar card */
.card-calendar {
  background: var(--surface);
  border-radius: var(--radius-sm);
  overflow: hidden;
  box-shadow: var(--shadow);
  width: 100%;
}
.card-calendar-header {
  background: linear-gradient(135deg, #EC4899, #F43F5E);
  padding: 12px 14px;
  color: #fff;
  display: flex; align-items: center; justify-content: space-between;
}
.cc-title { font-size: 13px; font-weight: 700; }
.cc-month { font-size: 11px; opacity: 0.85; }
.card-calendar-body { padding: 6px 12px; }
.cal-item {
  display: flex; align-items: center; gap: 10px;
  padding: 8px 0;
  border-bottom: 1px solid var(--border);
}
.cal-item:last-child { border-bottom: none; }
.cal-date-box {
  width: 42px; height: 42px; border-radius: 10px;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  flex-shrink: 0;
}
.cal-date-box.exam { background: var(--pink-light); }
.cal-date-box.event { background: var(--blue-light); }
.cal-date-box.holiday { background: var(--green-light); }
.cal-day { font-size: 16px; font-weight: 800; line-height: 1; }
.cal-dow { font-size: 9px; font-weight: 600; color: var(--text3); }
.cal-info { flex: 1; }
.cal-title { font-size: 13px; font-weight: 600; }
.cal-desc { font-size: 11px; color: var(--text3); }
.cal-tag {
  font-size: 9px; font-weight: 700; padding: 2px 8px; border-radius: 10px;
  white-space: nowrap;
}
.tag-exam { background: var(--pink-light); color: var(--pink); }
.tag-event { background: var(--blue-light); color: var(--blue); }
.tag-holiday { background: var(--green-light); color: var(--green); }

/* Typing indicator */
.typing-row {
  display: none;
  align-self: flex-start;
  gap: 8px; align-items: center;
}
.typing-row.show { display: flex; }
.typing-avatar {
  width: 30px; height: 30px; border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), #a78bfa);
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; flex-shrink: 0;
}
.typing-dots {
  background: var(--surface);
  border-radius: 18px 18px 18px 4px;
  padding: 12px 18px;
  display: flex; gap: 5px;
  box-shadow: var(--shadow);
}
.typing-dots span {
  width: 7px; height: 7px; border-radius: 50%;
  background: var(--text3);
  animation: typing 1.2s infinite;
}
.typing-dots span:nth-child(2) { animation-delay: 0.2s; }
.typing-dots span:nth-child(3) { animation-delay: 0.4s; }
@keyframes typing {
  0%,60%,100% { opacity:0.3; transform:translateY(0); }
  30% { opacity:1; transform:translateY(-4px); }
}

/* Input area */
.input-area {
  padding: 10px 12px;
  background: var(--surface);
  border-top: 1px solid var(--border);
  display: flex; gap: 8px; align-items: center;
  position: sticky; bottom: 0;
  flex-shrink: 0;
}
.input-field {
  flex: 1; padding: 12px 16px;
  border: 1.5px solid var(--border);
  border-radius: 24px;
  font-size: 14px;
  font-family: inherit;
  background: var(--bg);
  outline: none;
  transition: border-color 0.2s;
  user-select: text; -webkit-user-select: text;
}
.input-field:focus { border-color: var(--accent); }
.input-field::placeholder { color: var(--text3); }
.send-btn {
  width: 42px; height: 42px; border-radius: 50%;
  background: var(--accent);
  border: none; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  font-size: 18px;
  transition: all 0.15s;
  flex-shrink: 0;
}
.send-btn:active { transform: scale(0.9); background: var(--accent-dark); }

/* Animations */
@keyframes fadeUp { from{opacity:0;transform:translateY(12px);} to{opacity:1;transform:translateY(0);} }
.fade-up { animation: fadeUp 0.3s ease forwards; }
@keyframes slideIn { from{opacity:0;transform:translateX(-12px);} to{opacity:1;transform:translateX(0);} }
.slide-in { animation: slideIn 0.3s ease forwards; }

/* Scrollbar */
.chat-area::-webkit-scrollbar { width: 4px; }
.chat-area::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }
</style>
</head>
<body>

<div class="app-frame">
  <header class="app-header">
    <div class="h-avatar">ğŸ±</div>
    <div class="h-info">
      <div class="h-name">ë˜ë¦¬ <span class="h-badge">DEMO</span></div>
      <div class="h-status">ì‘ë‹µ ê°€ëŠ¥</div>
    </div>
    <span class="h-school">ì •ë³´Â·í†µì‹ </span>
  </header>

  <div class="chat-area" id="chat-area">
    <!-- Welcome -->
    <div class="welcome-card fade-up" id="welcome">
      <div class="w-emoji">ğŸ±</div>
      <div class="w-title">ì•ˆë…•, ë‚˜ëŠ” ë˜ë¦¬ë‹¤ëƒ¥!</div>
      <div class="w-sub">í•™êµ ì •ë³´ê°€ ê¶ê¸ˆí•˜ë©´ ë­ë“  ë¬¼ì–´ë´ëƒ¥~<br>ê¸‰ì‹, ì‹œê°„í‘œ, í•™ì‚¬ì¼ì • ë‹¤ ì•Œë ¤ì¤„ê²Œ! ğŸ¾</div>
    </div>

    <!-- Quick buttons -->
    <div class="quick-section" id="quick-section">
      <div class="quick-label">ğŸ’¬ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</div>
      <div class="quick-grid">
        <button class="quick-btn" onclick="askQuestion('meal')">
          <div class="q-icon meal">ğŸš</div>
          <div class="q-text">ì˜¤ëŠ˜ ê¸‰ì‹ ë­ì•¼?</div>
        </button>
        <button class="quick-btn" onclick="askQuestion('timetable')">
          <div class="q-icon schedule">ğŸ“…</div>
          <div class="q-text">ì´ë²ˆ ì£¼ ì‹œê°„í‘œ ì•Œë ¤ì¤˜</div>
        </button>
        <button class="quick-btn" onclick="askQuestion('calendar')">
          <div class="q-icon calendar">ğŸ“‹</div>
          <div class="q-text">í•™ì‚¬ì¼ì • ì•Œë ¤ì¤˜</div>
        </button>
        <button class="quick-btn" onclick="askQuestion('place')">
          <div class="q-icon place">ğŸ«</div>
          <div class="q-text">êµë¬´ì‹¤ ì–´ë””ì•¼?</div>
        </button>
        <button class="quick-btn" onclick="askQuestion('wifi')">
          <div class="q-icon etc">ğŸ“¶</div>
          <div class="q-text">ì™€ì´íŒŒì´ ë¹„ë²ˆ ë­ì•¼?</div>
        </button>
        <button class="quick-btn" onclick="askQuestion('club')">
          <div class="q-icon etc">ğŸ®</div>
          <div class="q-text">ë™ì•„ë¦¬ ì •ë³´ ì•Œë ¤ì¤˜</div>
        </button>
      </div>
    </div>

    <!-- Typing indicator (inside chat-area for proper scrolling) -->
    <div class="typing-row" id="typing">
      <div class="typing-avatar">ğŸ±</div>
      <div class="typing-dots"><span></span><span></span><span></span></div>
    </div>
  </div>

  <!-- Input -->
  <div class="input-area">
    <input class="input-field" id="input" placeholder="ë˜ë¦¬ì—ê²Œ ë¬¼ì–´ë´ëƒ¥~ ğŸ¾"
           onkeydown="if(event.key==='Enter')sendCustom()">
    <button class="send-btn" onclick="sendCustom()">ğŸ¾</button>
  </div>
</div>

<script>
const chatArea = document.getElementById('chat-area');
const typingEl = document.getElementById('typing');
const inputEl = document.getElementById('input');

const responses = {
  meal: {
    userText: "ì˜¤ëŠ˜ ê¸‰ì‹ ë­ì•¼?",
    botText: "ì˜¤ëŠ˜ ê¸‰ì‹ ì•Œë ¤ì¤„ê²Œëƒ¥! ğŸš ë§›ìˆëŠ” ë©”ë‰´ë‹¤ëƒ¥~",
    card: '<div class="card-meal"><div class="card-meal-header"><span class="cm-title">ğŸš ì˜¤ëŠ˜ì˜ ê¸‰ì‹</span><span class="cm-date">2ì›” 6ì¼ (ëª©)</span></div><div class="card-meal-body"><div class="cm-menu-item"><span class="cm-emoji">ğŸš</span><span class="cm-name">ì¡ê³¡ë°¥</span><span class="cm-cal">310 kcal</span></div><div class="cm-menu-item"><span class="cm-emoji">ğŸ²</span><span class="cm-name">ê¹€ì¹˜ì°Œê°œ</span><span class="cm-cal">180 kcal</span></div><div class="cm-menu-item"><span class="cm-emoji">ğŸ¥©</span><span class="cm-name">ëˆê¹ŒìŠ¤</span><span class="cm-cal">350 kcal</span></div><div class="cm-menu-item"><span class="cm-emoji">ğŸ¥—</span><span class="cm-name">ì½©ë‚˜ë¬¼ë¬´ì¹¨</span><span class="cm-cal">45 kcal</span></div><div class="cm-menu-item"><span class="cm-emoji">ğŸŠ</span><span class="cm-name">ê·¤</span><span class="cm-cal">40 kcal</span></div><div class="cm-menu-item"><span class="cm-emoji">ğŸ¥›</span><span class="cm-name">ë”¸ê¸°ìš°ìœ </span><span class="cm-cal">120 kcal</span></div></div><div class="card-meal-footer"><span class="cm-total-label">ì´ ì¹¼ë¡œë¦¬</span><span class="cm-total-val">1,045 kcal</span></div></div>',
    afterText: "ì˜¤ëŠ˜ì€ ëˆê¹ŒìŠ¤ ë‚˜ì˜¤ëŠ” ë‚ ì´ë‹¤ëƒ¥! ğŸ˜» ë§›ìˆê²Œ ë¨¹ìœ¼ë¼ëƒ¥~"
  },
  timetable: {
    userText: "ì´ë²ˆ ì£¼ ì‹œê°„í‘œ ì•Œë ¤ì¤˜",
    botText: "ì´ë²ˆ ì£¼ ì‹œê°„í‘œ ë³´ì—¬ì¤„ê²Œëƒ¥! ğŸ“…",
    card: '<div class="card-table"><div class="card-table-header"><span class="ct-title">ğŸ“… ì´ë²ˆ ì£¼ ì‹œê°„í‘œ</span><span class="ct-class">ì •ë³´í†µì‹ ê³¼ 2-1</span></div><table class="timetable"><thead><tr><th></th><th>ì›”</th><th>í™”</th><th>ìˆ˜</th><th class="today">ëª©</th><th>ê¸ˆ</th></tr></thead><tbody><tr><td class="period-num">1</td><td>êµ­ì–´</td><td>ìˆ˜í•™</td><td>ì˜ì–´</td><td class="today-col">ë„¤íŠ¸ì›Œí¬</td><td>ì²´ìœ¡</td></tr><tr><td class="period-num">2</td><td>ìˆ˜í•™</td><td>í”„ë¡œê·¸ë˜ë°</td><td>êµ­ì–´</td><td class="today-col">ë„¤íŠ¸ì›Œí¬</td><td>ì²´ìœ¡</td></tr><tr><td class="period-num">3</td><td>í”„ë¡œê·¸ë˜ë°</td><td>í”„ë¡œê·¸ë˜ë°</td><td>ë°ì´í„°ë² ì´ìŠ¤</td><td class="today-col">ì •ë³´ë³´ì•ˆ</td><td>ì˜ì–´</td></tr><tr><td class="period-num">4</td><td>í”„ë¡œê·¸ë˜ë°</td><td>ì˜ì–´</td><td>ë°ì´í„°ë² ì´ìŠ¤</td><td class="today-col">ì •ë³´ë³´ì•ˆ</td><td>ìˆ˜í•™</td></tr><tr><td class="period-num">5</td><td>ì •ë³´ë³´ì•ˆ</td><td>êµ­ì–´</td><td>í”„ë¡œê·¸ë˜ë°</td><td class="today-col">í•œêµ­ì‚¬</td><td>ë°ì´í„°ë² ì´ìŠ¤</td></tr><tr><td class="period-num">6</td><td>í•œêµ­ì‚¬</td><td>ë„¤íŠ¸ì›Œí¬</td><td>í”„ë¡œê·¸ë˜ë°</td><td class="today-col">í•œêµ­ì‚¬</td><td>ë°ì´í„°ë² ì´ìŠ¤</td></tr><tr><td class="period-num">7</td><td>ì°½ì²´</td><td>ë„¤íŠ¸ì›Œí¬</td><td>ììœ¨</td><td class="today-col">ë™ì•„ë¦¬</td><td>ììœ¨</td></tr></tbody></table></div>',
    afterText: "ì˜¤ëŠ˜ì€ ëª©ìš”ì¼ì´ë¼ ë„¤íŠ¸ì›Œí¬ ìˆ˜ì—…ì´ ìˆë‹¤ëƒ¥! ğŸ’» ë³´ë¼ìƒ‰ìœ¼ë¡œ í‘œì‹œí•´ë’€ìœ¼ë‹ˆ í™•ì¸í•´ëƒ¥~"
  },
  calendar: {
    userText: "í•™ì‚¬ì¼ì • ì•Œë ¤ì¤˜",
    botText: "ì´ë²ˆ ë‹¬ ì£¼ìš” ì¼ì • ì •ë¦¬í•´ë´¤ë‹¤ëƒ¥! ğŸ“‹",
    card: '<div class="card-calendar"><div class="card-calendar-header"><span class="cc-title">ğŸ“‹ í•™ì‚¬ì¼ì •</span><span class="cc-month">2026ë…„ 2ì›”</span></div><div class="card-calendar-body"><div class="cal-item"><div class="cal-date-box exam"><span class="cal-day" style="color:var(--pink)">10</span><span class="cal-dow">ì›”</span></div><div class="cal-info"><div class="cal-title">í•™ë…„ë§ê³ ì‚¬ ì‹œì‘</div><div class="cal-desc">2/10(ì›”) ~ 2/13(ëª©) 4ì¼ê°„</div></div><span class="cal-tag tag-exam">ì‹œí—˜</span></div><div class="cal-item"><div class="cal-date-box event"><span class="cal-day" style="color:var(--blue)">17</span><span class="cal-dow">ì›”</span></div><div class="cal-info"><div class="cal-title">ì§„ë¡œì²´í—˜ì˜ ë‚ </div><div class="cal-desc">IT ê¸°ì—… í˜„ì¥ ë°©ë¬¸ (íŒêµ)</div></div><span class="cal-tag tag-event">í–‰ì‚¬</span></div><div class="cal-item"><div class="cal-date-box event"><span class="cal-day" style="color:var(--blue)">21</span><span class="cal-dow">ê¸ˆ</span></div><div class="cal-info"><div class="cal-title">ì¡¸ì—…ì‹</div><div class="cal-desc">3í•™ë…„ ì¡¸ì—…ì‹ (ì˜¤ì „ 10ì‹œ ì²´ìœ¡ê´€)</div></div><span class="cal-tag tag-event">í–‰ì‚¬</span></div><div class="cal-item"><div class="cal-date-box holiday"><span class="cal-day" style="color:var(--green)">24</span><span class="cal-dow">ì›”</span></div><div class="cal-info"><div class="cal-title">ê²¨ìš¸ë°©í•™ ì‹œì‘</div><div class="cal-desc">2/24(ì›”) ~ 3/1(ì¼)</div></div><span class="cal-tag tag-holiday">ë°©í•™</span></div></div></div>',
    afterText: "ì‹œí—˜ì´ ë‹¤ìŒ ì£¼ë¼ëƒ¥..! ğŸ“š ê³µë¶€ ì—´ì‹¬íˆ í•´ì•¼ í•œë‹¤ëƒ¥ í™”ì´íŒ…ì´ë‹¤ëƒ¥! ğŸ’ªğŸ¾"
  },
  place: {
    userText: "êµë¬´ì‹¤ ì–´ë””ì•¼?",
    botText: "êµë¬´ì‹¤ ìœ„ì¹˜ ì•Œë ¤ì¤„ê²Œëƒ¥! ğŸ«",
    card: null,
    afterText: "êµë¬´ì‹¤ì€ <b>ë³¸ê´€ 2ì¸µ 201í˜¸</b>ë‹¤ëƒ¥! ğŸ¾<br><br>ğŸ¢ <b>ìì£¼ ì°¾ëŠ” ì¥ì†Œ</b><br>â€¢ êµë¬´ì‹¤: ë³¸ê´€ 2ì¸µ 201í˜¸<br>â€¢ í–‰ì •ì‹¤: ë³¸ê´€ 1ì¸µ 103í˜¸<br>â€¢ ì§„ë¡œìƒë‹´ì‹¤: ë³„ê´€ 3ì¸µ 302í˜¸<br>â€¢ ì»´í“¨í„°ì‹¤: ë³„ê´€ 2ì¸µ 204í˜¸<br>â€¢ ë³´ê±´ì‹¤: ë³¸ê´€ 1ì¸µ 105í˜¸<br>â€¢ ë„ì„œê´€: ë³„ê´€ 4ì¸µ<br><br>ê¸¸ ìƒìœ¼ë©´ ë˜ ë¬¼ì–´ë´ëƒ¥~ ğŸ˜¸"
  },
  wifi: {
    userText: "ì™€ì´íŒŒì´ ë¹„ë²ˆ ë­ì•¼?",
    botText: null,
    card: null,
    afterText: "í•™êµ ì™€ì´íŒŒì´ ì •ë³´ë‹¤ëƒ¥! ğŸ“¶<br><br>ğŸ“¡ <b>í•™ìƒìš© Wi-Fi</b><br>â€¢ SSID: <b>SCHOOL-STUDENT</b><br>â€¢ ë¹„ë°€ë²ˆí˜¸: <b>info2026!</b><br><br>ğŸ“¡ <b>ì‹¤ìŠµì‹¤ Wi-Fi</b><br>â€¢ SSID: <b>LAB-NET</b><br>â€¢ ë¹„ë°€ë²ˆí˜¸: <b>lab@2026</b><br><br>ì ‘ì† ì•ˆ ë˜ë©´ ì „ì‚°ì‹¤(ë³„ê´€ 201)ì— ë¬¸ì˜í•´ëƒ¥! ğŸ±"
  },
  club: {
    userText: "ë™ì•„ë¦¬ ì •ë³´ ì•Œë ¤ì¤˜",
    botText: null,
    card: null,
    afterText: "ì •ë³´í†µì‹ ê³¼ ë™ì•„ë¦¬ ì •ë³´ë‹¤ëƒ¥! ğŸ®<br><br>ğŸ’» <b>ì½”ë”© ë™ì•„ë¦¬ (CodeCat)</b><br>â€¢ í™œë™: ì›¹/ì•± ê°œë°œ, í•´ì»¤í†¤ ì°¸ê°€<br>â€¢ ì‹œê°„: ëª©ìš”ì¼ 7êµì‹œ<br>â€¢ ì¥ì†Œ: ë³„ê´€ 204í˜¸<br><br>ğŸ”’ <b>ì •ë³´ë³´ì•ˆ ë™ì•„ë¦¬ (WhiteHat)</b><br>â€¢ í™œë™: CTF ëŒ€íšŒ ì¤€ë¹„, ë³´ì•ˆ ì‹¤ìŠµ<br>â€¢ ì‹œê°„: ìˆ˜ìš”ì¼ ë°©ê³¼í›„<br>â€¢ ì¥ì†Œ: ë³„ê´€ 205í˜¸<br><br>ğŸ¤– <b>AI ë™ì•„ë¦¬ (NeuroNet)</b><br>â€¢ í™œë™: ë¨¸ì‹ ëŸ¬ë‹, AI í”„ë¡œì íŠ¸<br>â€¢ ì‹œê°„: ê¸ˆìš”ì¼ ë°©ê³¼í›„<br>â€¢ ì¥ì†Œ: ë³„ê´€ 204í˜¸<br><br>ê´€ì‹¬ ìˆëŠ” ë™ì•„ë¦¬ ìˆìœ¼ë©´ ë‹´ë‹¹ ì„ ìƒë‹˜í•œí…Œ ì–˜ê¸°í•´ë³´ë¼ëƒ¥! ğŸ˜º"
  }
};

const defaultReplies = [
  "ì˜¤í˜¸~ ê·¸ê±´ ì˜ ëª¨ë¥´ê² ë‹¤ëƒ¥ ğŸ˜¿ ì„ ìƒë‹˜ê»˜ ì§ì ‘ ë¬¼ì–´ë³´ëŠ” ê²Œ ì¢‹ì„ ê²ƒ ê°™ë‹¤ëƒ¥!",
  "ìŒ... ê·¸ ì •ë³´ëŠ” ì•„ì§ ì—†ë‹¤ëƒ¥! ğŸ™€ ë‚˜ì¤‘ì— ì—…ë°ì´íŠ¸í•´ì¤„ê²Œëƒ¥~",
  "ëƒ¥ëƒ¥! ê·¸ê±´ êµë¬´ì‹¤(ë³¸ê´€ 2ì¸µ)ì— ë¬¸ì˜í•´ë³´ë¼ëƒ¥~ ğŸ¾"
];

const now = new Date();
const timeStr = now.getHours().toString().padStart(2,'0') + ':' + now.getMinutes().toString().padStart(2,'0');

function addMessage(type, html, animate) {
  if (animate === undefined) animate = true;
  var div = document.createElement('div');
  if (type === 'user') {
    div.className = 'msg-row user' + (animate ? ' fade-up' : '');
    div.innerHTML = '<div class="msg-content"><div class="msg-bubble">' + html + '</div><div class="msg-time">' + timeStr + '</div></div>';
  } else {
    div.className = 'msg-row bot' + (animate ? ' slide-in' : '');
    div.innerHTML = '<div class="msg-avatar">ğŸ±</div><div class="msg-content"><div class="msg-bubble">' + html + '</div></div>';
  }
  chatArea.insertBefore(div, typingEl);
  scrollBottom();
}

function addCard(cardHtml) {
  var div = document.createElement('div');
  div.className = 'msg-row bot slide-in';
  div.innerHTML = '<div class="msg-avatar">ğŸ±</div><div class="msg-content">' + cardHtml + '</div>';
  chatArea.insertBefore(div, typingEl);
  scrollBottom();
}

function showTyping() { typingEl.classList.add('show'); scrollBottom(); }
function hideTyping() { typingEl.classList.remove('show'); }
function scrollBottom() {
  setTimeout(function() { chatArea.scrollTop = chatArea.scrollHeight; }, 50);
}

function clearWelcome() {
  var w = document.getElementById('welcome');
  var q = document.getElementById('quick-section');
  if (w) w.style.display = 'none';
  if (q) q.style.display = 'none';
}

function processResponse(r) {
  var hasBot = !!r.botText;
  var hasCard = !!r.card;
  var hasAfter = !!r.afterText;

  if (hasBot) {
    showTyping();
    setTimeout(function() {
      hideTyping();
      addMessage('bot', r.botText);
      if (hasCard) {
        showTyping();
        setTimeout(function() {
          hideTyping();
          addCard(r.card);
          if (hasAfter) {
            showTyping();
            setTimeout(function() { hideTyping(); addMessage('bot', r.afterText); }, 600);
          }
        }, 600);
      } else if (hasAfter) {
        showTyping();
        setTimeout(function() { hideTyping(); addMessage('bot', r.afterText); }, 600);
      }
    }, 600);
  } else if (hasCard) {
    showTyping();
    setTimeout(function() {
      hideTyping();
      addCard(r.card);
      if (hasAfter) {
        showTyping();
        setTimeout(function() { hideTyping(); addMessage('bot', r.afterText); }, 600);
      }
    }, 600);
  } else if (hasAfter) {
    showTyping();
    setTimeout(function() { hideTyping(); addMessage('bot', r.afterText); }, 600);
  }
}

function askQuestion(type) {
  var r = responses[type];
  if (!r) return;
  clearWelcome();
  addMessage('user', r.userText);
  processResponse(r);
}

function sendCustom() {
  var val = inputEl.value.trim();
  if (!val) return;
  inputEl.value = '';
  clearWelcome();
  addMessage('user', val);

  var matched = null;
  if (/ê¸‰ì‹|ì ì‹¬|ë°¥|ë©”ë‰´|ë¨¹/.test(val)) matched = 'meal';
  else if (/ì‹œê°„í‘œ|ìˆ˜ì—…|ëª‡êµì‹œ/.test(val)) matched = 'timetable';
  else if (/ì‹œí—˜|ì¼ì •|í–‰ì‚¬|ì¡¸ì—…|ë°©í•™/.test(val)) matched = 'calendar';
  else if (/êµë¬´ì‹¤|ì–´ë””|ìœ„ì¹˜|ì¥ì†Œ|ë³´ê±´ì‹¤|ë„ì„œê´€/.test(val)) matched = 'place';
  else if (/ì™€ì´íŒŒì´|wifi|ë¹„ë²ˆ|ë¹„ë°€ë²ˆí˜¸|ì¸í„°ë„·/i.test(val)) matched = 'wifi';
  else if (/ë™ì•„ë¦¬|í´ëŸ½/.test(val)) matched = 'club';

  if (matched) {
    processResponse(responses[matched]);
  } else {
    showTyping();
    var reply = defaultReplies[Math.floor(Math.random() * defaultReplies.length)];
    setTimeout(function() { hideTyping(); addMessage('bot', reply); }, 800);
  }
}
</script>
</body>
</html>
